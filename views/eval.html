{% extends "layout.html" %}

{% block title %}Midterm TA Evaluations &raquo; {{ ei.course }}{% endblock %}

{% block content %}
{% for error in errors %}
  <div class="error">Error: {{ error }}</div>
{% endfor %}

{% if success %}
  <div class="success">{{ success }}</div>
{% endif %}

<h1>{{ ei.course }} Midterm TA Evaluation</h1>

{% if ei.expired %}
  <p>The evaluation period has expired.</p>
{% else %}{% if ei.tas %}
  <form action="" method="post">
    <div id="ta">TA 
      <select name="ta">
	<option {% ifequal sel_ta '' %}selected="selected" {% endifequal %}
		value="">Select ...</option>
	{% for ta in ei.tas %}
          <option {% ifequal sel_ta ta %}selected="selected" {% endifequal %}
		  value="{{ ta }}">{{ ta }}</option>
	{% endfor %}
      </select>
    </div>

    {% for ques in questions %}
      <div class="question-wrapper">
	<div class="question">{{ forloop.counter }}) {{ ques.0.0 }}</div>
	{% ifequal ques.0.1 0 %}
	<div class="choices">
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="1"
		   {% ifequal ques.1 '1' %}checked="checked"{% endifequal %} />
	    Exceptional
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="2"
		   {% ifequal ques.1 '2' %}checked="checked"{% endifequal %} />
	    Good
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="3"
		   {% ifequal ques.1 '3' %}checked="checked"{% endifequal %} />
	    Average
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="4"
		   {% ifequal ques.1 '4' %}checked="checked"{% endifequal %} />
	    Fair
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="5"
		   {% ifequal ques.1 '5' %}checked="checked"{% endifequal %} />
	    Poor
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="0"
		   {% ifequal ques.1 '0' %}checked="checked"{% endifequal %} />
	    Decline to Respond
	  </label>
	</div>
	{% else %}{% ifequal ques.0.1 1 %}
	<div class="choices">
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="1"
		   {% ifequal ques.1 '1' %}checked="checked"{% endifequal %} />
	    Always
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="2"
		   {% ifequal ques.1 '2' %}checked="checked"{% endifequal %} />
	    Sometimes
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="3"
		   {% ifequal ques.1 '3' %}checked="checked"{% endifequal %} />
	    Occasionally
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="4"
		   {% ifequal ques.1 '4' %}checked="checked"{% endifequal %} />
	    Seldom
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="5"
		   {% ifequal ques.1 '5' %}checked="checked"{% endifequal %} />
	    Never
	  </label>
	  <label>
	    <input type="radio" name="resp{{ forloop.counter }}" value="0"
		   {% ifequal ques.1 '0' %}checked="checked"{% endifequal %} />
	    Decline to Respond
	  </label>
	</div>
	{% else %}{% ifequal ques.0.1 2 %}
	  <textarea name="resp{{ forloop.counter }}" rows="5"
		    cols="108">{{ ques.1 }}</textarea>
	{% else %}
	  Unsupported Question Type
	{% endifequal %}{% endifequal %}{% endifequal %}
      </div>
    {% endfor %}
    <div id="submit"><input type="submit" value="Submit Evaluation" /></div>
  </form>
{% else %}
  <p>No more TAs to evaluate for this class. Thanks!</p>
{% endif %}{% endif %}
{% endblock %}
